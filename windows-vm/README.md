# Windows VM Documentation

## Table of Contents

- [Windows Quick Start](#windows-vm---quick-start)
- [Requesting a VM](#requesting-a-vm)
- [Github Actions Arguments](#github-actions-arguments)
- [CSV File Arguments](#csv-file-arguments)

## [Windows VM - Quick Start](https://nationalgridplc.sharepoint.com/:b:/r/sites/COMMS-INT-GLOBAL-PlatformsAndCloud/Wisdom/Shared%20Documents/Technical%20Documentation/Terraform/Windows%20VM/Windows%20VM%20-%20QuickStart.pdf?csf=1&web=1&e=A8278S)

## Requesting a VM

![equesting a VM - GA UI](<../../images/Windows VM/Windows VM - GA UI.png>)

## Github Actions Arguments

| Argument Description                | Discussion                                                                                                                                                  | CSV File Column           | Default Value  | Required  |
|-------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|---------------------|----------------|
| Request Type - Create (New RG)      |  The resource group will be created using the purpose indicated below.                                                                                      |  GA UI Only               | None                | Yes            |
| Request Type - Create (Existing RG) | When specifying a Resource Name, instead of purpose, the existing Resource Group must use the Resourceâ€™s purpose.                                           |  GA UI Only               | None                | Yes            |
| Request Type - Update (Data Disk)   | Updated Data Disk Size and Storage Account Type. Set your VM Size to retain or update                                                                       |  GA UI Only               | None                | Yes            |
| Request Type - Update (OS Disk)     | Updated Operating System Disk Size and Storage Account Type. Set your VM Size to retain or update                                                           |  GA UI Only               | None                | Yes            |
| Environment                         | Create Environment names in Github of Dev, FOF, QA, UAT,  and Prod, as applicable.                                                                          |  GA UI Only               | None                | Yes            |
| Deployment Location                 | Options: eastus2, uksouth, centralus, ukwest                                                                                                                | location                  | None                | Yes            |
| VM Size                             | The size of the VM. SKUs supported by Azure and that are available in the region.                                                                           | vm_size                   | Standard_D2s_v3     |                |
| Resource Name                       | Use hyphen notation to provide your own name. Specify purpose in 3-5 characters.                                                                            | purpose                   | None                | Yes            |
| Resource Group Purpose Segment      | To specify a different Resource Group (hyphen notation or purpose segment). Otherwise the resource group purpose segment is derived from the resource name. | purpose_rg                | None                | Yes            |
| Project OU                          | Global AD is the source of the value. It is used to join your VM to our domain with the appropriate permissions.                                            | project_ou                | None                | Yes            |
| Subnet name for the Windows VM      | The subnet name for the Network Interface                                                                                                                   | subnetname_wvm            | None                | Yes            |
| Disk Size in GB                     | The size of the  disks requested.                                                                                                                           | disk_size_gb              | 32                  | Yes            |
| Disk Storage Account Type           | The Type of Storage Account which should back this the Internal OS Disk. Refer to valid_data_storage_account_types.                                         | disk_storage_account_type | 1                   | Yes            |

## CSV File Arguments

| Argument Description             | Discussion                                                                                                                                                                                                                                                                                                                                                            | CSV File Column                  | Default Value | Required |
|----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|---------------------|----------------|
| Number of Data Disks           | The number of disks to create. This is the CSV File property name. GA UI has an 'ui only' approach.                                                                                                                                                                                                                                                                   | data_disk_count                | 1                   | Yes            |
| Data Disk Size in GB           | The size of all data disks requested.                                                                                                                                                                                                                                                                                                                                 | data_disk_size_gb              | 32                  | Yes            |
| Data Disk Storage Account Type | The Type of Storage Account which should back this the Internal OS Disk. Refer to valid_data_storage_account_types.                                                                                                                                                                                                                                                   | data_disk_storage_account_type | 1                   | Yes            |
| Enable automatic updates       | Specifies if Automatic Updates are Enabled for the Windows Virtual Machine.                                                                                                                                                                                                                                                                                           | enable_automatic_updates       | true                | Yes            |
| Eviction policy                | Specifies what should happen when the Virtual Machine is evicted for price reasons when using a Spot instance. Refer to valid_eviction_policies.                                                                                                                                                                                                                      | eviction_policy                | Delete              | No             |
| Image reference SKU            | Refer to valid_image_reference_skus for the valid image types.                                                                                                                                                                                                                                                                                                        | image_reference_sku            | 2019-Datacenter     | No             |
| Maximum bid price              | For 'Spot' VMs, the maximum price you're willing to pay for this Virtual Machine, in US Dollars; which must be greater than the current spot price. If this bid price falls below the current spot price the Virtual Machine will be evicted using the eviction_policy. Defaults to -1, which means that the Virtual Machine should not be evicted for price reasons. | max_bid_price                  | -1                  | No             |
| OS disk caching                | he Type of Caching which should be used for the Internal OS Disk. Possible values are None, ReadOnly and ReadWrite.                                                                                                                                                                                                                                                   | os_disk_caching                | ReadWrite           | No             |
| OS disk size GB                | The Size of the Internal OS Disk in GB, if you wish to vary from the size used in the image this Virtual Machine is sourced from. A value less than 128 suppresses this variable resulting in the image size being used.                                                                                                                                              | os_disk_size_gb                | 0                   | No             |
| OS disk storage account type   |  The Type of Storage Account which should back this the Internal OS Disk. Refer to valid_os_storage_account_types.                                                                                                                                                                                                                                                    | os_disk_storage_account_type   | Standard_LRS        | No             |
| Priority                       | Specifies the priority for the virtual machine. Refer to valid_priorities                                                                                                                                                                                                                                                                                             | priority                       | Regular             | No             |
| Time zone                      | Specifies the Time Zone which should be used by the Virtual Machine. If no value is provided the associated value from the timezone_xref variable is used.                                                                                                                                                                                                            | timezone                       | ""                  | No             |
| Ultra SSD Enabled              |                                                                                                                                                                                                                                                                                                                                                                       | ultra_ssd_enabled              | false               | No             |
| Zone                           | The Availability Zone in which the resource should be located.                                                                                                                                                                                                                                                                                                        | zone                           | ""                  | No             |